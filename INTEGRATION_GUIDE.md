# OneID é›†æˆæŒ‡å—

> æœ¬æŒ‡å—æä¾›äº† OneID ä¸ç¬¬ä¸‰æ–¹åº”ç”¨é›†æˆçš„å®Œæ•´è¯´æ˜ï¼ŒåŒ…æ‹¬å¤šç§é›†æˆæ¨¡å¼ã€æœ€ä½³å®è·µå’Œä»£ç ç¤ºä¾‹ã€‚

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é›†æˆæ¨¡å¼å¯¹æ¯”](#é›†æˆæ¨¡å¼å¯¹æ¯”)
- [è¯¦ç»†é›†æˆæŒ‡å—](#è¯¦ç»†é›†æˆæŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æŠ€æœ¯æ”¯æŒ](#æŠ€æœ¯æ”¯æŒ)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

OneID æ˜¯ä¸€ä¸ªä¼ä¸šçº§èº«ä»½è®¤è¯å’Œæˆæƒç³»ç»Ÿï¼Œæ”¯æŒ OAuth 2.1 å’Œ OpenID Connect (OIDC) æ ‡å‡†åè®®ã€‚æ ¹æ®ä½ çš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒçš„é›†æˆæ¨¡å¼ï¼š

### é€‰æ‹©é›†æˆæ¨¡å¼

| åœºæ™¯ | æ¨èæ¨¡å¼ | æ–‡æ¡£é“¾æ¥ |
|------|---------|---------|
| ä¼ä¸šå†…éƒ¨ç³»ç»Ÿç»Ÿä¸€è®¤è¯ | æ ‡å‡† OIDC é›†æˆ | [æŸ¥çœ‹è¯¦æƒ…](docs/integration/01_æ ‡å‡†OIDCé›†æˆ.md) |
| SaaS åº”ç”¨è‡ªå®šä¹‰ç™»å½•ä½“éªŒ | è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ | [æŸ¥çœ‹è¯¦æƒ…](docs/integration/02_è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ.md) |
| ç°æœ‰ç³»ç»Ÿè´¦å·è¿ç§» | è´¦å·ç»Ÿä¸€ç®¡ç† | [æŸ¥çœ‹è¯¦æƒ…](docs/integration/03_è´¦å·ç»Ÿä¸€ç®¡ç†.md) |
| åç«¯æœåŠ¡ç›´æ¥è°ƒç”¨ | API ç›´æ¥é›†æˆ | [æŸ¥çœ‹è¯¦æƒ…](docs/integration/04_APIç›´æ¥é›†æˆ.md) |
| å¤šç§Ÿæˆ·/SaaS å¹³å° | å¤šç§Ÿæˆ·é›†æˆ | [æŸ¥çœ‹è¯¦æƒ…](docs/integration/05_å¤šç§Ÿæˆ·é›†æˆ.md) |

---

## ğŸ“Š é›†æˆæ¨¡å¼å¯¹æ¯”

### 1. æ ‡å‡† OIDC é›†æˆï¼ˆæ¨èï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šä¼ä¸šå†…éƒ¨ç³»ç»Ÿã€å¤šä¸ªä¸šåŠ¡ç³»ç»Ÿå…±äº«è®¤è¯ã€å¿«é€Ÿé›†æˆ

**ä¼˜ç‚¹**ï¼š
- âœ… å¼€ç®±å³ç”¨ï¼Œæ— éœ€å¼€å‘ç™»å½•é¡µ
- âœ… ç»Ÿä¸€çš„ç™»å½•ä½“éªŒå’Œå“ç‰Œ
- âœ… æ”¯æŒæ‰€æœ‰è®¤è¯æ–¹å¼ï¼ˆæœ¬åœ°ç™»å½•ã€ç¬¬ä¸‰æ–¹ç™»å½•ï¼‰
- âœ… è‡ªåŠ¨å¤„ç† Token åˆ·æ–°å’Œä¼šè¯ç®¡ç†
- âœ… å®‰å…¨æ€§æœ€é«˜ï¼ˆéµå¾ª OIDC æœ€ä½³å®è·µï¼‰

**ç¼ºç‚¹**ï¼š
- âš ï¸ ç™»å½•é¡µæ ·å¼ç”± OneID ç»Ÿä¸€ç®¡ç†
- âš ï¸ è·³è½¬æµç¨‹ï¼ˆåº”ç”¨ â†’ OneID â†’ åº”ç”¨ï¼‰

**é›†æˆéš¾åº¦**ï¼šâ­ ç®€å•ï¼ˆ1-2 å°æ—¶ï¼‰

---

### 2. è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ

**é€‚ç”¨åœºæ™¯**ï¼šSaaS åº”ç”¨ã€éœ€è¦è‡ªå®šä¹‰å“ç‰Œçš„ç™»å½•ä½“éªŒã€å…¬ç½‘åº”ç”¨

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨è‡ªå®šä¹‰ UI/UX
- âœ… ä¿æŒå“ç‰Œä¸€è‡´æ€§
- âœ… çµæ´»çš„ç™»å½•æµç¨‹
- âœ… æ”¯æŒç›´æ¥æ˜¾ç¤ºç¬¬ä¸‰æ–¹ç™»å½•æŒ‰é’®

**ç¼ºç‚¹**ï¼š
- âš ï¸ éœ€è¦å¼€å‘å’Œç»´æŠ¤ç™»å½•é¡µ
- âš ï¸ éœ€è¦æ‰‹åŠ¨å¤„ç†é”™è¯¯å’Œè¾¹ç•Œæƒ…å†µ

**é›†æˆéš¾åº¦**ï¼šâ­â­ ä¸­ç­‰ï¼ˆ0.5-1 å¤©ï¼‰

---

### 3. è´¦å·ç»Ÿä¸€ç®¡ç†

**é€‚ç”¨åœºæ™¯**ï¼šå·²æœ‰ç”¨æˆ·ç³»ç»Ÿéœ€è¦è¿ç§»ã€è´¦å·æ‰“é€šã€æ··åˆè®¤è¯æ¨¡å¼

**ä¼˜ç‚¹**ï¼š
- âœ… æ”¯æŒç°æœ‰è´¦å·å’Œ OneID è´¦å·å…±å­˜
- âœ… å¹³æ»‘è¿ç§»è·¯å¾„
- âœ… çµæ´»çš„è´¦å·ç»‘å®šç­–ç•¥

**ç¼ºç‚¹**ï¼š
- âš ï¸ éœ€è¦å¤„ç†è´¦å·æ˜ å°„é€»è¾‘
- âš ï¸ æ•°æ®è¿ç§»éœ€è¦è§„åˆ’

**é›†æˆéš¾åº¦**ï¼šâ­â­â­ å¤æ‚ï¼ˆ1-2 å¤©ï¼‰

---

### 4. API ç›´æ¥é›†æˆ

**é€‚ç”¨åœºæ™¯**ï¼šåç«¯æœåŠ¡ã€å¾®æœåŠ¡æ¶æ„ã€M2M è®¤è¯ã€è„šæœ¬/CLI å·¥å…·

**ä¼˜ç‚¹**ï¼š
- âœ… æ— éœ€å‰ç«¯äº¤äº’
- âœ… é€‚åˆæœåŠ¡é—´è®¤è¯
- âœ… æ”¯æŒ Client Credentials æµç¨‹

**ç¼ºç‚¹**ï¼š
- âš ï¸ ä¸é€‚åˆç”¨æˆ·ç™»å½•åœºæ™¯
- âš ï¸ éœ€è¦å¦¥å–„ä¿ç®¡å®¢æˆ·ç«¯å‡­è¯

**é›†æˆéš¾åº¦**ï¼šâ­â­ ä¸­ç­‰ï¼ˆ2-4 å°æ—¶ï¼‰

---

### 5. å¤šç§Ÿæˆ·é›†æˆ

**é€‚ç”¨åœºæ™¯**ï¼šSaaS å¹³å°ã€ä¼ä¸šç‰ˆåº”ç”¨ã€éœ€è¦ç§Ÿæˆ·éš”ç¦»çš„ç³»ç»Ÿ

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œæ•´çš„ç§Ÿæˆ·éš”ç¦»
- âœ… çµæ´»çš„ç§Ÿæˆ·é…ç½®
- âœ… æ”¯æŒå­åŸŸåè·¯ç”±

**ç¼ºç‚¹**ï¼š
- âš ï¸ éœ€è¦å¤„ç†ç§Ÿæˆ·ä¸Šä¸‹æ–‡
- âš ï¸ é…ç½®ç›¸å¯¹å¤æ‚

**é›†æˆéš¾åº¦**ï¼šâ­â­â­ å¤æ‚ï¼ˆ1-2 å¤©ï¼‰

---

## ğŸ“š è¯¦ç»†é›†æˆæŒ‡å—

### 1. [æ ‡å‡† OIDC é›†æˆ](docs/integration/01_æ ‡å‡†OIDCé›†æˆ.md)

æœ€ç®€å•ã€æœ€å®‰å…¨çš„é›†æˆæ–¹å¼ï¼Œé€‚åˆå¤§å¤šæ•°åœºæ™¯ã€‚ä½¿ç”¨ OneID æä¾›çš„ç™»å½•é¡µé¢ï¼Œæ”¯æŒï¼š
- ç”¨æˆ·åå¯†ç ç™»å½•
- ç¬¬ä¸‰æ–¹ç¤¾äº¤è´¦å·ç™»å½•ï¼ˆGitHubã€Googleã€Giteeã€å¾®ä¿¡ç­‰ï¼‰
- åŒå› ç´ è®¤è¯ï¼ˆMFAï¼‰
- è®°ä½æˆ‘åŠŸèƒ½

**å¿«é€Ÿå¼€å§‹**ï¼š
```typescript
// å®‰è£…ä¾èµ–
npm install oidc-client-ts

// é…ç½® OIDC å®¢æˆ·ç«¯
const userManager = new UserManager({
  authority: 'http://localhost:5001',
  client_id: 'your-client-id',
  redirect_uri: 'http://localhost:3000/callback',
  response_type: 'code',
  scope: 'openid profile email'
});

// å‘èµ·ç™»å½•
await userManager.signinRedirect();
```

[æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ â†’](docs/integration/01_æ ‡å‡†OIDCé›†æˆ.md)

---

### 2. [è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ](docs/integration/02_è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ.md)

åœ¨ä½ è‡ªå·±çš„åº”ç”¨ä¸­å®ç°ç™»å½•é¡µï¼ŒåŒæ—¶æ”¯æŒæœ¬åœ°ç™»å½•å’Œç¬¬ä¸‰æ–¹å¿«æ·ç™»å½•ã€‚

**æ ¸å¿ƒæ€è·¯**ï¼š
- åœ¨ä½ çš„ç™»å½•é¡µç›´æ¥æ˜¾ç¤ºç¬¬ä¸‰æ–¹ç™»å½•æŒ‰é’®ï¼ˆGitHubã€Google ç­‰ï¼‰
- è°ƒç”¨ OneID API è·å–å¯ç”¨çš„è®¤è¯æä¾›å•†
- ç‚¹å‡»åè·³è½¬åˆ° OneID è¿›è¡Œè®¤è¯ä¸­è½¬
- è®¤è¯å®Œæˆåè¿”å›åˆ°ä½ çš„åº”ç”¨

**æ•ˆæœç¤ºä¾‹**ï¼š
```
ä½ çš„åº”ç”¨ç™»å½•é¡µ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         æ¬¢è¿ç™»å½• Your App           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç”¨æˆ·å: [_______________]          â”‚
â”‚  å¯†ç :   [_______________]          â”‚
â”‚         [      ç™»å½•      ]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       å¿«é€Ÿç™»å½•                      â”‚
â”‚  [ğŸ™ GitHub] [ğŸ”µ Google] [ğŸŸ  Gitee]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

[æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ â†’](docs/integration/02_è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ.md)

---

### 3. [è´¦å·ç»Ÿä¸€ç®¡ç†](docs/integration/03_è´¦å·ç»Ÿä¸€ç®¡ç†.md)

å¦‚æœä½ çš„åº”ç”¨å·²æœ‰ç”¨æˆ·ç³»ç»Ÿï¼Œå­¦ä¹ å¦‚ä½•ï¼š
- å°†ç°æœ‰è´¦å·è¿ç§»åˆ° OneID
- å®ç°è´¦å·ç»‘å®šå’Œå…³è”
- æ”¯æŒæ··åˆè®¤è¯æ¨¡å¼ï¼ˆæœ¬åœ°è´¦å· + OneID è´¦å·ï¼‰
- å¹³æ»‘è¿‡æ¸¡ç­–ç•¥

**ä¸‰ç§è´¦å·ç®¡ç†æ¨¡å¼**ï¼š
1. **å®Œå…¨æ‰˜ç®¡æ¨¡å¼**ï¼šæ‰€æœ‰è´¦å·ç”± OneID ç®¡ç†
2. **å…³è”æ¨¡å¼**ï¼šOneID è´¦å·ä¸æœ¬åœ°è´¦å·å…³è”
3. **SSO æ¨¡å¼**ï¼šOneID ä»…ç”¨äºè®¤è¯ï¼Œæœ¬åœ°ç³»ç»Ÿç®¡ç†è´¦å·

[æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ â†’](docs/integration/03_è´¦å·ç»Ÿä¸€ç®¡ç†.md)

---

### 4. [API ç›´æ¥é›†æˆ](docs/integration/04_APIç›´æ¥é›†æˆ.md)

åç«¯æœåŠ¡ã€å®šæ—¶ä»»åŠ¡ã€CLI å·¥å…·ç­‰æ— éœ€ç”¨æˆ·äº¤äº’çš„åœºæ™¯ã€‚

**æ”¯æŒçš„è®¤è¯æ–¹å¼**ï¼š
- Client Credentialsï¼ˆæœåŠ¡é—´è®¤è¯ï¼‰
- Resource Owner Password Credentialsï¼ˆç”¨æˆ·åå¯†ç ï¼‰
- API Key è®¤è¯

**ç¤ºä¾‹åœºæ™¯**ï¼š
- å¾®æœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨
- åå°å®šæ—¶ä»»åŠ¡
- ç®¡ç†è„šæœ¬å’Œå·¥å…·
- ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆ

[æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ â†’](docs/integration/04_APIç›´æ¥é›†æˆ.md)

---

### 5. [å¤šç§Ÿæˆ·é›†æˆ](docs/integration/05_å¤šç§Ÿæˆ·é›†æˆ.md)

SaaS å¹³å°çš„å¤šç§Ÿæˆ·è®¤è¯æ–¹æ¡ˆï¼Œå®ç°ï¼š
- ç§Ÿæˆ·éš”ç¦»ï¼ˆæ•°æ®ã€ç”¨æˆ·ã€é…ç½®ï¼‰
- å­åŸŸåè·¯ç”±ï¼ˆtenant1.yourdomain.comï¼‰
- ç§Ÿæˆ·çº§é…ç½®ç®¡ç†
- è·¨ç§Ÿæˆ·ç”¨æˆ·ç®¡ç†

**æ¶æ„ç¤ºä¾‹**ï¼š
```
tenant1.app.com â”€â”€â†’ OneID (tenant1) â”€â”€â†’ tenant1 æ•°æ®
tenant2.app.com â”€â”€â†’ OneID (tenant2) â”€â”€â†’ tenant2 æ•°æ®
tenant3.app.com â”€â”€â†’ OneID (tenant3) â”€â”€â†’ tenant3 æ•°æ®
```

[æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ â†’](docs/integration/05_å¤šç§Ÿæˆ·é›†æˆ.md)

---

## â“ å¸¸è§é—®é¢˜

### Q1: æˆ‘åº”è¯¥é€‰æ‹©å“ªç§é›†æˆæ¨¡å¼ï¼Ÿ

**A**: æ ¹æ®ä½ çš„åœºæ™¯é€‰æ‹©ï¼š
- **ä¼ä¸šå†…éƒ¨ç³»ç»Ÿ** â†’ æ ‡å‡† OIDC é›†æˆ
- **SaaS åº”ç”¨** â†’ è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ
- **å·²æœ‰ç”¨æˆ·ç³»ç»Ÿ** â†’ è´¦å·ç»Ÿä¸€ç®¡ç†
- **åç«¯æœåŠ¡** â†’ API ç›´æ¥é›†æˆ
- **å¤šç§Ÿæˆ·å¹³å°** â†’ å¤šç§Ÿæˆ·é›†æˆ

### Q2: æ ‡å‡† OIDC é›†æˆèƒ½å¦è‡ªå®šä¹‰ç™»å½•é¡µæ ·å¼ï¼Ÿ

**A**: å¯ä»¥ï¼OneID Login Portal æ”¯æŒï¼š
- è‡ªå®šä¹‰ Logo
- è‡ªå®šä¹‰ä¸»é¢˜è‰²
- è‡ªå®šä¹‰èƒŒæ™¯
- è‡ªå®šä¹‰æ–‡æ¡ˆ

ä½†å¦‚æœéœ€è¦å®Œå…¨è‡ªå®šä¹‰çš„ UIï¼Œå»ºè®®ä½¿ç”¨"è‡ªå®šä¹‰ç™»å½•é¡µé›†æˆ"æ¨¡å¼ã€‚

### Q3: ç¬¬ä¸‰æ–¹ç™»å½•æ”¯æŒå“ªäº›å¹³å°ï¼Ÿ

**A**: OneID å½“å‰æ”¯æŒï¼š
- GitHub
- Google
- Gitee
- å¾®ä¿¡

æ›´å¤šå¹³å°å¯é€šè¿‡é…ç½® ASP.NET Core Identity çš„ External Login æ·»åŠ ã€‚

### Q4: å¦‚ä½•å®ç°"è®°ä½æˆ‘"åŠŸèƒ½ï¼Ÿ

**A**: åœ¨æ ‡å‡† OIDC é›†æˆä¸­ï¼š
```typescript
const userManager = new UserManager({
  // ... å…¶ä»–é…ç½®
  automaticSilentRenew: true, // è‡ªåŠ¨åˆ·æ–° Token
  accessTokenExpiringNotificationTimeInSeconds: 60
});
```

### Q5: å¦‚ä½•å¤„ç† Token è¿‡æœŸï¼Ÿ

**A**: OneID æ”¯æŒè‡ªåŠ¨ Token åˆ·æ–°ï¼š
```typescript
// ç›‘å¬ Token å³å°†è¿‡æœŸ
userManager.events.addAccessTokenExpiring(() => {
  console.log('Token expiring, renewing...');
});

// ç›‘å¬ Token æ›´æ–°
userManager.events.addAccessTokenExpired(() => {
  console.log('Token expired, redirecting to login...');
  userManager.signinRedirect();
});
```

### Q6: æ”¯æŒå•ç‚¹ç™»å½•ï¼ˆSSOï¼‰å—ï¼Ÿ

**A**: å®Œå…¨æ”¯æŒï¼ä½¿ç”¨æ ‡å‡† OIDC é›†æˆå³å¯å®ç°ï¼š
- ç”¨æˆ·åœ¨ App A ç™»å½•å
- è®¿é—® App B æ—¶è‡ªåŠ¨ç™»å½•ï¼ˆæ— éœ€å†æ¬¡è¾“å…¥å¯†ç ï¼‰
- åœ¨ App A æ³¨é”€åï¼ŒApp B ä¹Ÿä¼šåŒæ­¥æ³¨é”€

### Q7: å¦‚ä½•è·å–ç”¨æˆ·ä¿¡æ¯ï¼Ÿ

**A**: è§£æ ID Token æˆ–è°ƒç”¨ UserInfo ç«¯ç‚¹ï¼š
```typescript
// æ–¹å¼1ï¼šè§£æ ID Token
const user = await userManager.getUser();
console.log(user.profile.sub);    // ç”¨æˆ·å”¯ä¸€æ ‡è¯†
console.log(user.profile.email);  // é‚®ç®±
console.log(user.profile.name);   // å§“å

// æ–¹å¼2ï¼šè°ƒç”¨ UserInfo API
const response = await fetch('http://localhost:5001/connect/userinfo', {
  headers: {
    'Authorization': `Bearer ${user.access_token}`
  }
});
const userInfo = await response.json();
```

### Q8: å¦‚ä½•å¤„ç†è´¦å·è¿ç§»ï¼Ÿ

**A**: å‚è€ƒ [è´¦å·ç»Ÿä¸€ç®¡ç†æ–‡æ¡£](docs/integration/03_è´¦å·ç»Ÿä¸€ç®¡ç†.md)ï¼Œæä¾›äº†ä¸‰ç§è¿ç§»ç­–ç•¥ï¼š
1. ä¸€æ¬¡æ€§æ‰¹é‡è¿ç§»
2. æ¸è¿›å¼è¿ç§»ï¼ˆç”¨æˆ·é¦–æ¬¡ç™»å½•æ—¶è¿ç§»ï¼‰
3. åŒç³»ç»Ÿå¹¶è¡Œï¼ˆä¿ç•™ä¸¤å¥—è´¦å·ä½“ç³»ï¼‰

### Q9: æ”¯æŒç§»åŠ¨ç«¯é›†æˆå—ï¼Ÿ

**A**: æ”¯æŒï¼ä½¿ç”¨ä»¥ä¸‹åº“ï¼š
- **iOS**: AppAuth-iOS
- **Android**: AppAuth-Android
- **React Native**: react-native-app-auth
- **Flutter**: flutter_appauth

é›†æˆæ–¹å¼ä¸ Web ç«¯ç±»ä¼¼ï¼Œéµå¾ª OIDC æ ‡å‡†ã€‚

### Q10: å¦‚ä½•æµ‹è¯•é›†æˆï¼Ÿ

**A**: OneID æä¾›ï¼š
1. **å¼€å‘ç¯å¢ƒ**ï¼šæœ¬åœ°å¯åŠ¨ OneID è¿›è¡Œæµ‹è¯•
2. **æµ‹è¯•å®¢æˆ·ç«¯**ï¼šé¢„é…ç½®çš„æµ‹è¯•åº”ç”¨
3. **API æµ‹è¯•å·¥å…·**ï¼šPostman Collection
4. **æ—¥å¿—æŸ¥çœ‹**ï¼šAdmin Portal æä¾›å®Œæ•´çš„å®¡è®¡æ—¥å¿—

---

## ğŸ”’ å®‰å…¨æœ€ä½³å®è·µ

### 1. Token å®‰å…¨

- âœ… ä½¿ç”¨ HTTPSï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- âœ… ä¸è¦åœ¨ URL ä¸­æš´éœ² Token
- âœ… ä½¿ç”¨ HttpOnly Cookie å­˜å‚¨ Refresh Token
- âœ… è®¾ç½®åˆç†çš„ Token è¿‡æœŸæ—¶é—´
- âŒ ä¸è¦åœ¨å‰ç«¯å­˜å‚¨ Client Secret

### 2. PKCEï¼ˆProof Key for Code Exchangeï¼‰

å¯¹äºå…¬å…±å®¢æˆ·ç«¯ï¼ˆSPAã€ç§»åŠ¨åº”ç”¨ï¼‰ï¼Œå¯ç”¨ PKCEï¼š
```typescript
const userManager = new UserManager({
  // ... å…¶ä»–é…ç½®
  code_verifier: true // å¯ç”¨ PKCE
});
```

### 3. State å‚æ•°

é˜²æ­¢ CSRF æ”»å‡»ï¼ŒOIDC åº“ä¼šè‡ªåŠ¨å¤„ç† State å‚æ•°ã€‚

### 4. éªŒè¯ ID Token

å§‹ç»ˆéªŒè¯ ID Token çš„ç­¾åå’Œå£°æ˜ï¼š
```typescript
// oidc-client-ts ä¼šè‡ªåŠ¨éªŒè¯
const user = await userManager.signinRedirectCallback();
// user.id_token å·²ç»è¿‡éªŒè¯
```

---

## ğŸ› ï¸ å¼€å‘å·¥å…·

### 1. OIDC è°ƒè¯•å·¥å…·

- [oidcdebugger.com](https://oidcdebugger.com/) - åœ¨çº¿ OIDC æµç¨‹æµ‹è¯•
- [jwt.io](https://jwt.io/) - JWT Token è§£æ

### 2. æ¨èå®¢æˆ·ç«¯åº“

#### JavaScript/TypeScript
- `oidc-client-ts` - åŠŸèƒ½æœ€å…¨é¢
- `@auth0/auth0-spa-js` - ç®€å•æ˜“ç”¨

#### .NET
- `Microsoft.AspNetCore.Authentication.OpenIdConnect`
- `IdentityModel.OidcClient`

#### Python
- `authlib`
- `python-jose`

#### Java
- `spring-security-oauth2-client`
- `nimbus-oauth2-oidc-sdk`

### 3. OneID ç®¡ç†å·¥å…·

- **Admin Portal**: http://localhost:5174
  - å®¢æˆ·ç«¯ç®¡ç†
  - ç”¨æˆ·ç®¡ç†
  - å®¡è®¡æ—¥å¿—
  - ç³»ç»Ÿé…ç½®

- **API Endpoints**:
  - Discovery: `/.well-known/openid-configuration`
  - Authorization: `/connect/authorize`
  - Token: `/connect/token`
  - UserInfo: `/connect/userinfo`
  - End Session: `/connect/endsession`

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ–‡æ¡£èµ„æº

- [OneID ä¸»æ–‡æ¡£](README.md)
- [å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICKSTART.md)
- [API å‚è€ƒæ–‡æ¡£](docs/API_REFERENCE.md)
- [é…ç½®æ‰‹å†Œ](docs/)

### ç¤ºä¾‹ä»£ç 

æŸ¥çœ‹ `examples/` ç›®å½•è·å–å®Œæ•´çš„é›†æˆç¤ºä¾‹ï¼š
- React SPA ç¤ºä¾‹
- Vue 3 ç¤ºä¾‹
- Next.js ç¤ºä¾‹
- .NET API ç¤ºä¾‹
- Python FastAPI ç¤ºä¾‹

### ç¤¾åŒºæ”¯æŒ

- **GitHub Issues**: æŠ¥å‘Š Bug å’ŒåŠŸèƒ½è¯·æ±‚
- **Discussions**: æŠ€æœ¯è®¨è®ºå’Œé—®é¢˜è§£ç­”

---

## ğŸ“ è®¸å¯è¯

OneID ä½¿ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. é€‰æ‹©é€‚åˆä½ çš„é›†æˆæ¨¡å¼
2. é˜…è¯»å¯¹åº”çš„è¯¦ç»†æ–‡æ¡£
3. æŸ¥çœ‹ç¤ºä¾‹ä»£ç 
4. å¼€å§‹é›†æˆï¼

ç¥é›†æˆé¡ºåˆ©ï¼ğŸš€

